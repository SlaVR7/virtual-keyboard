(()=>{"use strict";const e=[{name:"~",rusName:"~",code:"Backquote"},{name:"1",rusName:"1",code:"Digit1"},{name:"2",rusName:"2",code:"Digit2"},{name:"3",rusName:"3",code:"Digit3"},{name:"4",rusName:"4",code:"Digit4"},{name:"5",rusName:"5",code:"Digit5"},{name:"6",rusName:"6",code:"Digit6"},{name:"7",rusName:"7",code:"Digit7"},{name:"8",rusName:"8",code:"Digit8"},{name:"9",rusName:"9",code:"Digit9"},{name:"0",rusName:"0",code:"Digit0"},{name:"-",rusName:"-",code:"Minus"},{name:"=",rusName:"=",code:"Equal"},{name:"Backspace",rusName:"Backspace",code:"Backspace"}],t=[{name:"Tab",rusName:"Tab",code:"Tab"},{name:"Q",rusName:"Й",code:"KeyQ"},{name:"W",rusName:"Ц",code:"KeyW"},{name:"E",rusName:"У",code:"KeyE"},{name:"R",rusName:"К",code:"KeyR"},{name:"T",rusName:"Е",code:"KeyT"},{name:"Y",rusName:"Н",code:"KeyY"},{name:"U",rusName:"Г",code:"KeyU"},{name:"I",rusName:"Ш",code:"KeyI"},{name:"O",rusName:"Щ",code:"KeyO"},{name:"P",rusName:"З",code:"KeyP"},{name:"[",rusName:"Х",code:"BracketLeft"},{name:"]",rusName:"Ъ",code:"BracketRight"},{name:"\\",rusName:"\\",code:"Backslash"}],d=[{name:"Caps Lock",rusName:"Caps Lock",code:"CapsLock"},{name:"A",rusName:"Ф",code:"KeyA"},{name:"S",rusName:"Ы",code:"KeyS"},{name:"D",rusName:"В",code:"KeyD"},{name:"F",rusName:"А",code:"KeyF"},{name:"G",rusName:"П",code:"KeyG"},{name:"H",rusName:"Р",code:"KeyH"},{name:"J",rusName:"О",code:"KeyJ"},{name:"K",rusName:"Л",code:"KeyK"},{name:"L",rusName:"Д",code:"KeyL"},{name:";",rusName:"Ж",code:"Semicolon"},{name:"'",rusName:"Э",code:"Quote"},{name:"Enter",rusName:"Enter",code:"Enter"}],a=[{name:"Shift",rusName:"Shift",code:"ShiftLeft"},{name:"Z",rusName:"Я",code:"KeyZ"},{name:"X",rusName:"Ч",code:"KeyX"},{name:"C",rusName:"С",code:"KeyC"},{name:"V",rusName:"М",code:"KeyV"},{name:"B",rusName:"И",code:"KeyB"},{name:"N",rusName:"Т",code:"KeyN"},{name:"M",rusName:"Ь",code:"KeyM"},{name:",",rusName:"Б",code:"Comma"},{name:".",rusName:"Ю",code:"Period"},{name:"/",rusName:".",code:"Slash"},{name:"▲",rusName:"▲",code:"ArrowUp"},{name:"Shift",rusName:"Shift",code:"ShiftRight"}],n=[{name:"Ctrl",rusName:"Ctrl",code:"ControlLeft"},{name:"Alt",rusName:"Alt",code:"AltLeft"},{name:"Win",rusName:"Win",code:"MetaLeft"},{name:" ",rusName:" ",code:"Space"},{name:"Alt",rusName:"Alt",code:"AltRight"},{name:"◄",rusName:"◄",code:"ArrowLeft"},{name:"▼",rusName:"▼",code:"ArrowDown"},{name:"►",rusName:"►",code:"ArrowRight"},{name:"Ctrl",rusName:"Ctrl",code:"ControlRight"}];class i{constructor(e,t,d){this.name=e,this.rusName=t,this.code=d}getButton(){const e=document.createElement("div");return e.innerHTML=this.name.toLowerCase(),e.classList.add("key"),"ShiftLeft"!==this.code&&"ShiftRight"!==this.code||e.classList.add("middleWidth"),"Space"===this.code&&e.classList.add("space"),"Tab"!==this.code&&"CapsLock"!==this.code&&"Backspace"!==this.code&&"Enter"!==this.code||e.classList.add("capsTabWidth"),e.setAttribute("id",this.code),e}getUpperButton(){const e=document.createElement("div");return e.innerHTML=this.name,e.classList.add("key"),"ShiftLeft"!==this.code&&"ShiftRight"!==this.code||e.classList.add("middleWidth"),"Space"===this.code&&e.classList.add("space"),"Tab"!==this.code&&"CapsLock"!==this.code&&"Backspace"!==this.code&&"Enter"!==this.code||e.classList.add("capsTabWidth"),e.setAttribute("id",this.code),e}getRusButton(){const e=document.createElement("div");return e.innerHTML=this.rusName.toLowerCase(),e.classList.add("key"),"ShiftLeft"!==this.code&&"ShiftRight"!==this.code||e.classList.add("middleWidth"),"Space"===this.code&&e.classList.add("space"),"Tab"!==this.code&&"CapsLock"!==this.code&&"Backspace"!==this.code&&"Enter"!==this.code||e.classList.add("capsTabWidth"),e.setAttribute("id",this.code),e}getUpperRusButton(){const e=document.createElement("div");return e.innerHTML=this.rusName,e.classList.add("key"),"ShiftLeft"!==this.code&&"ShiftRight"!==this.code||e.classList.add("middleWidth"),"Space"===this.code&&e.classList.add("space"),"Tab"!==this.code&&"CapsLock"!==this.code&&"Backspace"!==this.code&&"Enter"!==this.code||e.classList.add("capsTabWidth"),e.setAttribute("id",this.code),e}}const s=document.createElement("div");e.forEach((e=>{const t=new i(e.name,e.rusName,e.code);s.appendChild(t.getButton())})),s.classList.add("row");const o=document.createElement("div");e.forEach((e=>{const t=new i(e.name,e.rusName,e.code);o.appendChild(t.getUpperButton())})),o.classList.add("row");const c=document.createElement("div");e.forEach((e=>{const t=new i(e.name,e.rusName,e.code);c.appendChild(t.getRusButton())})),c.classList.add("row");const r=document.createElement("div");e.forEach((e=>{const t=new i(e.name,e.rusName,e.code);r.appendChild(t.getUpperRusButton())})),r.classList.add("row");const h=document.createElement("div");t.forEach((e=>{const t=new i(e.name,e.rusName,e.code);h.appendChild(t.getButton())})),h.classList.add("row");const l=document.createElement("div");t.forEach((e=>{const t=new i(e.name,e.rusName,e.code);l.appendChild(t.getUpperButton())})),l.classList.add("row");const p=document.createElement("div");t.forEach((e=>{const t=new i(e.name,e.rusName,e.code);p.appendChild(t.getRusButton())})),p.classList.add("row");const m=document.createElement("div");t.forEach((e=>{const t=new i(e.name,e.rusName,e.code);m.appendChild(t.getUpperRusButton())})),m.classList.add("row");const u=document.createElement("div");d.forEach((e=>{const t=new i(e.name,e.rusName,e.code);u.appendChild(t.getButton())})),u.classList.add("row");const L=document.createElement("div");d.forEach((e=>{const t=new i(e.name,e.rusName,e.code);L.appendChild(t.getUpperButton())})),L.classList.add("row");const C=document.createElement("div");d.forEach((e=>{const t=new i(e.name,e.rusName,e.code);C.appendChild(t.getRusButton())})),C.classList.add("row");const g=document.createElement("div");d.forEach((e=>{const t=new i(e.name,e.rusName,e.code);g.appendChild(t.getUpperRusButton())})),g.classList.add("row");const f=document.createElement("div");a.forEach((e=>{const t=new i(e.name,e.rusName,e.code);f.appendChild(t.getButton())})),f.classList.add("row");const v=document.createElement("div");a.forEach((e=>{const t=new i(e.name,e.rusName,e.code);v.appendChild(t.getUpperButton())})),v.classList.add("row");const y=document.createElement("div");a.forEach((e=>{const t=new i(e.name,e.rusName,e.code);y.appendChild(t.getRusButton())})),y.classList.add("row");const E=document.createElement("div");a.forEach((e=>{const t=new i(e.name,e.rusName,e.code);E.appendChild(t.getUpperRusButton())})),E.classList.add("row");const S=document.createElement("div");n.forEach((e=>{const t=new i(e.name,e.rusName,e.code);S.appendChild(t.getButton())})),S.classList.add("row");const N=document.createElement("div");n.forEach((e=>{const t=new i(e.name,e.rusName,e.code);N.appendChild(t.getUpperButton())})),N.classList.add("row");const B=document.createElement("div");n.forEach((e=>{const t=new i(e.name,e.rusName,e.code);B.appendChild(t.getRusButton())})),B.classList.add("row");const k=document.createElement("div");n.forEach((e=>{const t=new i(e.name,e.rusName,e.code);k.appendChild(t.getUpperRusButton())})),k.classList.add("row");let b=!1,A=!1;const w=["Backspace","Tab","CapsLock","Caps Lock","Enter","shift","ctrl","alt","win","ShiftLeft","ShiftRight","ControlLeft","AltLeft","MetaLeft","AltRight","ControlRight","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"];let R="",I=document.getElementById("textarea"),T=document.querySelector(".keyboard");document.addEventListener("click",(function(e){let t=document.getElementById("CapsLock");if("CapsLock"===e.target.getAttribute("id")&&!t.classList.contains("hovered")&&T.contains(h)){T.innerHTML="",T.appendChild(o),T.appendChild(l),T.appendChild(L),T.appendChild(v),T.appendChild(N),t=document.getElementById("CapsLock"),t.classList.add("hovered");const e=document.getElementById("ShiftRight");document.getElementById("ShiftLeft").classList.remove("hovered"),e.classList.remove("hovered")}else if("CapsLock"===e.target.getAttribute("id")&&t.classList.contains("hovered")&&T.contains(l)){T.innerHTML="",T.appendChild(s),T.appendChild(h),T.appendChild(u),T.appendChild(f),T.appendChild(S),t=document.getElementById("CapsLock");const e=document.getElementById("ShiftLeft"),d=document.getElementById("ShiftRight");e.classList.remove("hovered"),d.classList.remove("hovered"),t.classList.remove("hovered")}else if("CapsLock"===e.target.getAttribute("id")&&!t.classList.contains("hovered")&&T.contains(p)){T.innerHTML="",T.appendChild(r),T.appendChild(m),T.appendChild(g),T.appendChild(E),T.appendChild(k),t=document.getElementById("CapsLock"),t.classList.add("hovered");const e=document.getElementById("ShiftRight");document.getElementById("ShiftLeft").classList.remove("hovered"),e.classList.remove("hovered")}else if("CapsLock"===e.target.getAttribute("id")&&t.classList.contains("hovered")&&T.contains(m)){T.innerHTML="",T.appendChild(c),T.appendChild(p),T.appendChild(C),T.appendChild(y),T.appendChild(B);const e=document.getElementById("ShiftLeft"),d=document.getElementById("ShiftRight");e.classList.remove("hovered"),d.classList.remove("hovered"),t=document.getElementById("CapsLock"),t.classList.remove("hovered")}})),document.addEventListener("mousedown",(function(e){let t=document.getElementById("CapsLock");if(("ShiftLeft"===e.target.getAttribute("id")||"ShiftRight"===e.target.getAttribute("id"))&&!t.classList.contains("hovered")&&T.contains(h)){T.innerHTML="",T.appendChild(o),T.appendChild(l),T.appendChild(L),T.appendChild(v),T.appendChild(N);const t=document.getElementById("ShiftRight"),d=document.getElementById("ShiftLeft");document.getElementById("CapsLock").classList.remove("hovered"),"ShiftLeft"===e.target.getAttribute("id")&&(d.classList.add("hovered"),t.classList.remove("hovered")),"ShiftRight"===e.target.getAttribute("id")&&(t.classList.add("hovered"),d.classList.remove("hovered"))}if(("ShiftLeft"===e.target.getAttribute("id")||"ShiftRight"===e.target.getAttribute("id"))&&!t.classList.contains("hovered")&&T.contains(p)){T.innerHTML="",T.appendChild(r),T.appendChild(m),T.appendChild(g),T.appendChild(E),T.appendChild(k);const t=document.getElementById("ShiftRight"),d=document.getElementById("ShiftLeft");document.getElementById("CapsLock").classList.remove("hovered"),"ShiftLeft"===e.target.getAttribute("id")&&(d.classList.add("hovered"),t.classList.remove("hovered")),"ShiftRight"===e.target.getAttribute("id")&&(t.classList.add("hovered"),d.classList.remove("hovered"))}if(("ShiftLeft"===e.target.getAttribute("id")||"ShiftRight"===e.target.getAttribute("id"))&&t.classList.contains("hovered")&&T.contains(l)){T.innerHTML="",T.appendChild(s),T.appendChild(h),T.appendChild(u),T.appendChild(f),T.appendChild(S),t=document.getElementById("CapsLock");const d=document.getElementById("ShiftRight"),a=document.getElementById("ShiftLeft");"ShiftLeft"===e.target.getAttribute("id")&&(a.classList.add("hovered"),d.classList.remove("hovered")),"ShiftRight"===e.target.getAttribute("id")&&(d.classList.add("hovered"),a.classList.remove("hovered")),t.classList.add("hovered")}if(("ShiftLeft"===e.target.getAttribute("id")||"ShiftRight"===e.target.getAttribute("id"))&&t.classList.contains("hovered")&&T.contains(m)){T.innerHTML="",T.appendChild(c),T.appendChild(p),T.appendChild(C),T.appendChild(y),T.appendChild(B),t=document.getElementById("CapsLock");const d=document.getElementById("ShiftRight"),a=document.getElementById("ShiftLeft");"ShiftLeft"===e.target.getAttribute("id")&&(a.classList.add("hovered"),d.classList.remove("hovered")),"ShiftRight"===e.target.getAttribute("id")&&(d.classList.add("hovered"),a.classList.remove("hovered")),t.classList.add("hovered")}})),document.addEventListener("mouseup",(function(e){const t=document.getElementById("CapsLock");if("ShiftLeft"!==e.target.getAttribute("id")&&"ShiftRight"!==e.target.getAttribute("id")||t.classList.contains("hovered")||!T.contains(l)){if(("ShiftLeft"===e.target.getAttribute("id")||"ShiftRight"===e.target.getAttribute("id"))&&!t.classList.contains("hovered")&&T.contains(m)){T.innerHTML="",T.appendChild(c),T.appendChild(p),T.appendChild(C),T.appendChild(y),T.appendChild(B);const e=document.getElementById("ShiftLeft"),t=document.getElementById("ShiftRight");e.classList.remove("hovered"),t.classList.remove("hovered")}}else{T.innerHTML="",T.appendChild(s),T.appendChild(h),T.appendChild(u),T.appendChild(f),T.appendChild(S);const e=document.getElementById("ShiftLeft"),t=document.getElementById("ShiftRight");e.classList.remove("hovered"),t.classList.remove("hovered")}if(("ShiftLeft"===e.target.getAttribute("id")||"ShiftRight"===e.target.getAttribute("id"))&&t.classList.contains("hovered")&&T.contains(h)){T.innerHTML="",T.appendChild(o),T.appendChild(l),T.appendChild(L),T.appendChild(v),T.appendChild(N);const e=document.getElementById("ShiftLeft"),t=document.getElementById("ShiftRight");e.classList.remove("hovered"),t.classList.remove("hovered")}if(("ShiftLeft"===e.target.getAttribute("id")||"ShiftRight"===e.target.getAttribute("id"))&&t.classList.contains("hovered")&&T.contains(p)){T.innerHTML="",T.appendChild(r),T.appendChild(m),T.appendChild(g),T.appendChild(E),T.appendChild(k);const e=document.getElementById("ShiftLeft"),t=document.getElementById("ShiftRight");e.classList.remove("hovered"),t.classList.remove("hovered")}})),document.body.insertAdjacentHTML("afterbegin","<h1>Virtual keyboard</h1>"),document.body.firstChild.className="title",document.body.insertAdjacentHTML("beforeend",'<textarea rows="5" cols="50"></textarea>'),document.body.children[1].setAttribute("id","textarea"),I=document.getElementById("textarea"),document.body.insertAdjacentHTML("beforeend",'<div class="keyboard"></div>'),T=document.querySelector(".keyboard"),"English"===localStorage.getItem("lang")?(T.appendChild(s),T.appendChild(h),T.appendChild(u),T.appendChild(f),T.appendChild(S)):(T.appendChild(c),T.appendChild(p),T.appendChild(C),T.appendChild(y),T.appendChild(B)),document.addEventListener("keydown",(function(e){const t=document.querySelector(`#${e.code}`);"ShiftLeft"!==e.code&&"ShiftRight"!==e.code&&t.classList.add("hovered"),w.includes(e.code)||(R+=e.key,I.value=R),"Enter"===e.code&&(R+="\n",I.value=R),"Tab"===e.code&&(R+="\t",I.value=R),"ArrowLeft"===e.code&&(R+="◄",I.value=R),"ArrowUp"===e.code&&(R+="▲",I.value=R),"ArrowDown"===e.code&&(R+="▼",I.value=R),"ArrowRight"===e.code&&(R+="►",I.value=R),"Backspace"===e.code&&(R=R.slice(0,R.length-1),I.value=R)})),document.addEventListener("keyup",(function(e){const t=document.querySelector(`#${e.code}`);"CapsLock"!==e.code&&t.classList.remove("hovered")})),T.addEventListener("click",(function(e){const t=w.map((e=>e.toLowerCase())),d=e.target.innerHTML;e.target.getAttribute("id")&&(t.includes(d)||w.includes(d)||(R+=d,I.value=R),"Enter"===e.target.getAttribute("id")&&(R+="\n",I.value=R),"Tab"===e.target.getAttribute("id")&&(R+="\t",I.value=R),"backspace"!==d&&"Backspace"!==d||(R=R.slice(0,R.length-1),I.value=R))})),document.addEventListener("keydown",(function(e){(e.altKey||9===e.keyCode)&&e.preventDefault(),(!b||"ShiftLeft"!==e.code&&"ShiftRight"!==e.code)&&("AltLeft"===e.code&&e.ctrlKey&&T.contains(h)?(T.innerHTML="",T.appendChild(c),T.appendChild(p),T.appendChild(C),T.appendChild(y),T.appendChild(B),localStorage.setItem("lang","Russian")):"AltLeft"===e.code&&e.ctrlKey&&T.contains(p)?(T.innerHTML="",T.appendChild(s),T.appendChild(h),T.appendChild(u),T.appendChild(f),T.appendChild(S),document.getElementById("CapsLock").classList.remove("hovered"),localStorage.setItem("lang","English")):"AltLeft"===e.code&&e.ctrlKey&&T.contains(l)?(T.innerHTML="",T.appendChild(r),T.appendChild(m),T.appendChild(g),T.appendChild(E),T.appendChild(k),document.getElementById("CapsLock").classList.add("hovered"),localStorage.setItem("lang","Russian")):"AltLeft"===e.code&&e.ctrlKey&&T.contains(m)?(T.innerHTML="",T.appendChild(o),T.appendChild(l),T.appendChild(L),T.appendChild(v),T.appendChild(N),document.getElementById("CapsLock").classList.add("hovered"),localStorage.setItem("lang","English")):T.contains(h)&&"CapsLock"===e.code?(T.innerHTML="",T.appendChild(o),T.appendChild(l),T.appendChild(L),T.appendChild(v),T.appendChild(N),document.getElementById("CapsLock").classList.add("hovered"),A=!0):T.contains(p)&&"CapsLock"===e.code?(T.innerHTML="",T.appendChild(r),T.appendChild(m),T.appendChild(g),T.appendChild(E),T.appendChild(k),document.getElementById("CapsLock").classList.add("hovered"),A=!0):T.contains(l)&&"CapsLock"===e.code?(T.innerHTML="",T.appendChild(s),T.appendChild(h),T.appendChild(u),T.appendChild(f),T.appendChild(S),document.getElementById("CapsLock").classList.remove("hovered"),A=!1):T.contains(m)&&"CapsLock"===e.code?(T.innerHTML="",T.appendChild(c),T.appendChild(p),T.appendChild(C),T.appendChild(y),T.appendChild(B),document.getElementById("CapsLock").classList.remove("hovered"),A=!1):!T.contains(h)||b||"ShiftLeft"!==e.code&&"ShiftRight"!==e.code?!T.contains(l)||b||"ShiftLeft"!==e.code&&"ShiftRight"!==e.code?!T.contains(p)||b||"ShiftLeft"!==e.code&&"ShiftRight"!==e.code?!T.contains(m)||b||"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||(T.innerHTML="",T.appendChild(c),T.appendChild(p),T.appendChild(C),T.appendChild(y),T.appendChild(B),b=!0,document.querySelector(`#${e.code}`).classList.add("hovered")):(T.innerHTML="",T.appendChild(r),T.appendChild(m),T.appendChild(g),T.appendChild(E),T.appendChild(k),b=!0,document.querySelector(`#${e.code}`).classList.add("hovered")):(T.innerHTML="",T.appendChild(s),T.appendChild(h),T.appendChild(u),T.appendChild(f),T.appendChild(S),b=!0,document.querySelector(`#${e.code}`).classList.add("hovered")):(T.innerHTML="",T.appendChild(o),T.appendChild(l),T.appendChild(L),T.appendChild(v),T.appendChild(N),b=!0,document.querySelector(`#${e.code}`).classList.add("hovered")),e.shiftKey&&document.getElementById("CapsLock").classList.contains("hovered")&&!A?(document.getElementById("CapsLock").classList.remove("hovered"),b=!0):e.shiftKey&&!document.getElementById("CapsLock").classList.contains("hovered")&&A&&(document.getElementById("CapsLock").classList.add("hovered"),b=!0))})),document.addEventListener("keyup",(function(e){!T.contains(l)||"ShiftLeft"!==e.code&&"ShiftRight"!==e.code?!T.contains(h)||"ShiftLeft"!==e.code&&"ShiftRight"!==e.code?!T.contains(m)||"ShiftLeft"!==e.code&&"ShiftRight"!==e.code?!T.contains(p)||"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||(T.innerHTML="",T.appendChild(r),T.appendChild(m),T.appendChild(g),T.appendChild(E),T.appendChild(k),b=!1,document.querySelector(`#${e.code}`).classList.remove("hovered")):(T.innerHTML="",T.appendChild(c),T.appendChild(p),T.appendChild(C),T.appendChild(y),T.appendChild(B),b=!1,document.querySelector(`#${e.code}`).classList.remove("hovered")):(T.innerHTML="",T.appendChild(o),T.appendChild(l),T.appendChild(L),T.appendChild(v),T.appendChild(N),b=!1,document.querySelector(`#${e.code}`).classList.remove("hovered")):(T.innerHTML="",T.appendChild(s),T.appendChild(h),T.appendChild(u),T.appendChild(f),T.appendChild(S),b=!1,document.querySelector(`#${e.code}`).classList.remove("hovered"))})),document.body.insertAdjacentHTML("beforeend",'<p class="description">The keyboard was created in the Windows operating system</p>'),document.body.insertAdjacentHTML("beforeend",'<p class="description">Combination for changing the language is: CtrlLeft + AltLeft</p>')})();