(()=>{"use strict";const e=class{constructor(e,t,s){this.name=e,this.rusName=t,this.code=s}createBtn(){const e=document.createElement("div");return e.classList.add("key"),["ShiftLeft","ShiftRight"].includes(this.code)&&e.classList.add("middleWidth"),"Space"===this.code&&e.classList.add("space"),["Tab","CapsLock","Backspace","Enter"].includes(this.code)&&e.classList.add("capsTabWidth"),e.setAttribute("id",this.code),e}getButton(){const e=this.createBtn();return e.innerHTML=this.name.toLowerCase(),e}getUpperButton(){const e=this.createBtn();return e.innerHTML=this.name,e}getRusButton(){const e=this.createBtn();return e.innerHTML=this.rusName.toLowerCase(),e}getUpperRusButton(){const e=this.createBtn();return e.innerHTML=this.rusName,e}},t=function(t){const s=[];return t.forEach((t=>{const o=document.createElement("div");t.forEach((t=>{const s=new e(t.name,t.rusName,t.code);o.appendChild(s.getButton())})),o.classList.add("row"),s.push(o);const a=document.createElement("div");t.forEach((t=>{const s=new e(t.name,t.rusName,t.code);a.appendChild(s.getUpperButton())})),a.classList.add("row"),s.push(a);const n=document.createElement("div");t.forEach((t=>{const s=new e(t.name,t.rusName,t.code);n.appendChild(s.getRusButton())})),n.classList.add("row"),s.push(n);const r=document.createElement("div");t.forEach((t=>{const s=new e(t.name,t.rusName,t.code);r.appendChild(s.getUpperRusButton())})),r.classList.add("row"),s.push(r)})),s}([[{name:"~",rusName:"~",code:"Backquote"},{name:"1",rusName:"1",code:"Digit1"},{name:"2",rusName:"2",code:"Digit2"},{name:"3",rusName:"3",code:"Digit3"},{name:"4",rusName:"4",code:"Digit4"},{name:"5",rusName:"5",code:"Digit5"},{name:"6",rusName:"6",code:"Digit6"},{name:"7",rusName:"7",code:"Digit7"},{name:"8",rusName:"8",code:"Digit8"},{name:"9",rusName:"9",code:"Digit9"},{name:"0",rusName:"0",code:"Digit0"},{name:"-",rusName:"-",code:"Minus"},{name:"=",rusName:"=",code:"Equal"},{name:"Backspace",rusName:"Backspace",code:"Backspace"}],[{name:"Tab",rusName:"Tab",code:"Tab"},{name:"Q",rusName:"Й",code:"KeyQ"},{name:"W",rusName:"Ц",code:"KeyW"},{name:"E",rusName:"У",code:"KeyE"},{name:"R",rusName:"К",code:"KeyR"},{name:"T",rusName:"Е",code:"KeyT"},{name:"Y",rusName:"Н",code:"KeyY"},{name:"U",rusName:"Г",code:"KeyU"},{name:"I",rusName:"Ш",code:"KeyI"},{name:"O",rusName:"Щ",code:"KeyO"},{name:"P",rusName:"З",code:"KeyP"},{name:"[",rusName:"Х",code:"BracketLeft"},{name:"]",rusName:"Ъ",code:"BracketRight"},{name:"\\",rusName:"\\",code:"Backslash"}],[{name:"Caps Lock",rusName:"Caps Lock",code:"CapsLock"},{name:"A",rusName:"Ф",code:"KeyA"},{name:"S",rusName:"Ы",code:"KeyS"},{name:"D",rusName:"В",code:"KeyD"},{name:"F",rusName:"А",code:"KeyF"},{name:"G",rusName:"П",code:"KeyG"},{name:"H",rusName:"Р",code:"KeyH"},{name:"J",rusName:"О",code:"KeyJ"},{name:"K",rusName:"Л",code:"KeyK"},{name:"L",rusName:"Д",code:"KeyL"},{name:";",rusName:"Ж",code:"Semicolon"},{name:"'",rusName:"Э",code:"Quote"},{name:"Enter",rusName:"Enter",code:"Enter"}],[{name:"Shift",rusName:"Shift",code:"ShiftLeft"},{name:"Z",rusName:"Я",code:"KeyZ"},{name:"X",rusName:"Ч",code:"KeyX"},{name:"C",rusName:"С",code:"KeyC"},{name:"V",rusName:"М",code:"KeyV"},{name:"B",rusName:"И",code:"KeyB"},{name:"N",rusName:"Т",code:"KeyN"},{name:"M",rusName:"Ь",code:"KeyM"},{name:",",rusName:"Б",code:"Comma"},{name:".",rusName:"Ю",code:"Period"},{name:"/",rusName:".",code:"Slash"},{name:"▲",rusName:"▲",code:"ArrowUp"},{name:"Shift",rusName:"Shift",code:"ShiftRight"}],[{name:"Ctrl",rusName:"Ctrl",code:"ControlLeft"},{name:"Alt",rusName:"Alt",code:"AltLeft"},{name:"Win",rusName:"Win",code:"MetaLeft"},{name:" ",rusName:" ",code:"Space"},{name:"Alt",rusName:"Alt",code:"AltRight"},{name:"◄",rusName:"◄",code:"ArrowLeft"},{name:"▼",rusName:"▼",code:"ArrowDown"},{name:"►",rusName:"►",code:"ArrowRight"},{name:"Ctrl",rusName:"Ctrl",code:"ControlRight"}]]),[s,o,a,n,r,c,d,i,m,u,l,h,L,y,p,f,k,g,v,b]=t,N={isShiftActive:!1,isCapsActive:!1,helpfulKeysCodes:["Backspace","Tab","CapsLock","Caps Lock","Enter","shift","ctrl","alt","win","ShiftLeft","ShiftRight","ControlLeft","AltLeft","MetaLeft","AltRight","ControlRight","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],str:"",textarea:document.getElementById("textarea"),keyboard:document.querySelector(".keyboard"),justRows:[s,r,m,L,k],rowsUpper:[o,c,u,y,g],rowsRusUpper:[n,i,h,f,b],rowsRus:[a,d,l,p,v]},w=function(e){e.forEach((e=>{N.keyboard.appendChild(e)}))};document.body.insertAdjacentHTML("afterbegin","<h1>Virtual keyboard</h1>"),document.body.firstChild.className="title",document.body.insertAdjacentHTML("beforeend",'<textarea readonly rows="5" cols="50"></textarea>'),document.body.children[1].setAttribute("id","textarea"),N.textarea=document.querySelector("#textarea"),document.body.insertAdjacentHTML("beforeend",'<div class="keyboard"></div>'),N.keyboard=document.querySelector(".keyboard"),"English"===localStorage.getItem("lang")?w(N.justRows):w(N.rowsRus),document.addEventListener("keydown",(function(e){const t=document.querySelector(`#${e.code}`);if(t){switch(["ShiftLeft","ShiftRight"].includes(e.code)||t.classList.add("hovered"),N.helpfulKeysCodes.includes(e.code)||(N.str+=t.innerText),e.code){case"Enter":N.str+="\n";break;case"Tab":N.str+="\t";break;case"ArrowLeft":N.str+="◄";break;case"ArrowUp":N.str+="▲";break;case"ArrowDown":N.str+="▼";break;case"ArrowRight":N.str+="►";break;case"Backspace":N.str=N.str.slice(0,N.str.length-1)}N.textarea.value=N.str}})),document.addEventListener("keyup",(function(e){const t=document.querySelector(`#${e.code}`);t&&"CapsLock"!==e.code&&t.classList.remove("hovered")})),document.addEventListener("click",(function(e){let t=document.getElementById("CapsLock");const s=e.target.getAttribute("id");if("CapsLock"===s&&!t.classList.contains("hovered")&&N.keyboard.contains(r)){N.keyboard.innerHTML="",w(N.rowsUpper),t=document.getElementById("CapsLock"),t.classList.add("hovered");const e=document.getElementById("ShiftRight");document.getElementById("ShiftLeft").classList.remove("hovered"),e.classList.remove("hovered")}else if("CapsLock"===s&&t.classList.contains("hovered")&&N.keyboard.contains(c)){N.keyboard.innerHTML="",w(N.justRows),t=document.getElementById("CapsLock");const e=document.getElementById("ShiftLeft"),s=document.getElementById("ShiftRight");e.classList.remove("hovered"),s.classList.remove("hovered"),t.classList.remove("hovered")}else if("CapsLock"===s&&!t.classList.contains("hovered")&&N.keyboard.contains(d)){N.keyboard.innerHTML="",w(N.rowsRusUpper),t=document.getElementById("CapsLock"),t.classList.add("hovered");const e=document.getElementById("ShiftRight");document.getElementById("ShiftLeft").classList.remove("hovered"),e.classList.remove("hovered")}else if("CapsLock"===s&&t.classList.contains("hovered")&&N.keyboard.contains(i)){N.keyboard.innerHTML="",w(N.rowsRus);const e=document.getElementById("ShiftLeft"),s=document.getElementById("ShiftRight");e.classList.remove("hovered"),s.classList.remove("hovered"),t=document.getElementById("CapsLock"),t.classList.remove("hovered")}})),document.addEventListener("mousedown",(function(e){if([1,2].includes(e.button))return;let t=document.getElementById("CapsLock");const s=e.target.getAttribute("id"),o=t.classList.contains("hovered");let a=document.getElementById("ShiftLeft"),n=document.getElementById("ShiftRight");const m=[a,n].some((e=>e.classList.contains("hovered")));if(!["ShiftLeft","ShiftRight"].includes(s)||m)return;let u;o?(N.keyboard.contains(c)&&(u=N.justRows),N.keyboard.contains(i)&&(u=N.rowsRus),N.keyboard.innerHTML="",w(u),t=document.getElementById("CapsLock"),t.classList.add("hovered")):o||(N.keyboard.contains(r)&&(u=N.rowsUpper),N.keyboard.contains(d)&&(u=N.rowsRusUpper),N.keyboard.innerHTML="",w(u),document.getElementById("CapsLock").classList.remove("hovered")),n=document.getElementById("ShiftRight"),a=document.getElementById("ShiftLeft"),"ShiftLeft"===s&&(a.classList.add("hovered"),a.classList.add("noHover"),n.classList.remove("hovered")),"ShiftRight"===s&&(n.classList.add("hovered"),n.classList.add("noHover"),a.classList.remove("hovered"))})),document.addEventListener("mouseup",(function(e){if([1,2].includes(e.button))return;const t=document.getElementById("CapsLock"),s=e.target.getAttribute("id"),o=["ShiftLeft","ShiftRight"].includes(s),a=t.classList.contains("hovered");let n;if(o){a?(N.keyboard.contains(r)&&(n=N.rowsUpper),N.keyboard.contains(d)&&(n=N.rowsRusUpper)):N.keyboard.contains(c)?n=N.justRows:N.keyboard.contains(i)&&(n=N.rowsRus),N.keyboard.innerHTML="",w(n);const e=document.getElementById("ShiftLeft"),t=document.getElementById("ShiftRight");e.classList.remove("hovered"),t.classList.remove("hovered")}})),N.keyboard.addEventListener("click",(function(e){const t=N.helpfulKeysCodes.map((e=>e.toLowerCase())),s=e.target.innerHTML,o=e.target.getAttribute("id");o&&(t.includes(s)||N.helpfulKeysCodes.includes(s)||(N.str+=s),"Enter"===o&&(N.str+="\n"),"Tab"===o&&(N.str+="\t"),"backspace"!==s&&"Backspace"!==s||(N.str=N.str.slice(0,N.str.length-1)),N.textarea.value=N.str)})),document.addEventListener("contextmenu",(e=>e.preventDefault())),document.addEventListener("keydown",(function(e){(e.altKey||9===e.keyCode)&&e.preventDefault(),"AltLeft"===e.code&&e.ctrlKey?function(){let e;N.keyboard.contains(r)?(e=N.rowsRus,localStorage.setItem("lang","Russian")):N.keyboard.contains(d)?(e=N.justRows,localStorage.setItem("lang","English")):N.keyboard.contains(c)?(e=N.rowsRusUpper,localStorage.setItem("lang","Russian")):N.keyboard.contains(i)&&(e=N.rowsUpper,localStorage.setItem("lang","English")),N.keyboard.innerHTML="",w(e);const t=document.getElementById("CapsLock");[N.rowsRusUpper,N.rowsUpper].includes(e)?t.classList.add("hovered"):t.classList.remove("hovered")}():"CapsLock"===e.code?N.keyboard.contains(r)?(N.keyboard.innerHTML="",w(N.rowsUpper),document.getElementById("CapsLock").classList.add("hovered"),N.isCapsActive=!0):N.keyboard.contains(d)?(N.keyboard.innerHTML="",w(N.rowsRusUpper),document.getElementById("CapsLock").classList.add("hovered"),N.isCapsActive=!0):N.keyboard.contains(c)?(N.keyboard.innerHTML="",w(N.justRows),document.getElementById("CapsLock").classList.remove("hovered"),N.isCapsActive=!1):N.keyboard.contains(i)&&(N.keyboard.innerHTML="",w(N.rowsRus),document.getElementById("CapsLock").classList.remove("hovered"),N.isCapsActive=!1):!N.isShiftActive&&["ShiftLeft","ShiftRight"].includes(e.code)&&function(e){let t;N.keyboard.contains(r)?t=N.rowsUpper:N.keyboard.contains(c)?t=N.justRows:N.keyboard.contains(d)?t=N.rowsRusUpper:N.keyboard.contains(i)&&(t=N.rowsRus),N.keyboard.innerHTML="",w(t),N.isShiftActive=!0,document.querySelector(`#${e.code}`).classList.add("hovered")}(e);const t=document.getElementById("CapsLock");e.shiftKey&&t.classList.contains("hovered")&&!N.isCapsActive?t.classList.remove("hovered"):e.shiftKey&&!t.classList.contains("hovered")&&N.isCapsActive&&t.classList.add("hovered")})),document.addEventListener("keyup",(function(e){if(!["ShiftLeft","ShiftRight"].includes(e.code))return;let t;N.keyboard.contains(c)?t=N.justRows:N.keyboard.contains(r)?t=N.rowsUpper:N.keyboard.contains(i)?t=N.rowsRus:N.keyboard.contains(d)&&(t=N.rowsRusUpper),N.keyboard.innerHTML="",w(t),N.isShiftActive=!1,document.querySelector(`#${e.code}`).classList.remove("hovered")})),document.body.insertAdjacentHTML("beforeend",'<p class="description">The keyboard was created in the Windows operating system</p>'),document.body.insertAdjacentHTML("beforeend",'<p class="description">Combination for changing the language is: CtrlLeft + AltLeft</p>')})();